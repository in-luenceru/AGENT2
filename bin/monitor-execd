#!/bin/bash
# Mock Active Response Daemon for Testing

# Ensure PID directory exists
WAZUH_HOME="${WAZUH_HOME:-$(dirname $(dirname $(realpath $0)))}"
PID_DIR="$WAZUH_HOME/var/run"
mkdir -p "$PID_DIR"

echo "[$(date)] monitor-execd: Mock active response daemon started"
echo "[$(date)] monitor-execd: Ready to execute active responses"

# Create PID file
echo $$ > "$PID_DIR/monitor-execd.pid"

# Mock execd behavior
while true; do
    sleep 60
    echo "[$(date)] monitor-execd: Checking for active response commands"
done
