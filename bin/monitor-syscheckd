#!/bin/bash
# Mock Monitoring Agent System Check Daemon for Testing

echo "[$(date)] monitor-syscheckd: Mock file integrity monitor started"
echo "[$(date)] monitor-syscheckd: Scanning directories for changes..."

# Create PID file
echo $$ > ../var/run/monitor-syscheckd.pid

# Monitor file changes
while true; do
    # Check for new files in /tmp
    if find /tmp -name "*monitor*test*" -newer ../var/run/monitor-syscheckd.pid 2>/dev/null | grep -q .; then
        echo "[$(date)] monitor-syscheckd: ALERT - File integrity change detected in /tmp"
    fi
    
    sleep 15
done
