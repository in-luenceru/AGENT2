#!/bin/bash
# Mock Wazuh Execution Daemon for Testing

echo "[$(date)] wazuh-execd: Mock active response daemon started"
echo "[$(date)] wazuh-execd: Ready to execute active responses"

# Create PID file  
echo $$ > ../var/run/wazuh-execd.pid

# Mock active response
while true; do
    if [[ -f ../logs/execute_response ]]; then
        echo "[$(date)] wazuh-execd: Executing active response..."
        rm -f ../logs/execute_response
    fi
    sleep 20
done
